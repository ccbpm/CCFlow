<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title> 
    <link href="../../../Comm/Style/Table0.css" rel="stylesheet" type="text/css" />
    <link href="../../../Scripts/easyUI145/themes/icon.css" rel="stylesheet" type="text/css" />
    <link href="../../../Scripts/easyUI145/themes/default/easyui.css" rel="stylesheet" type="text/css" />
     <link href="../../../../DataUser/Style/ccbpm.css" rel="stylesheet"  type="text/css" />
    <script src="../../../Scripts/easyUI145/jquery.min.js" type="text/javascript"></script>
    <script src="../../../Scripts/easyUI145/jquery.easyui.min.js" type="text/javascript"></script>
    <script src="../../../Scripts/QueryString.js" type="text/javascript"></script>
    <script src="../../../Scripts/config.js" type="text/javascript"></script>
    <script src="../../../Comm/JScript.js" type="text/javascript"></script>
    <script src="../../../Scripts/CommonUnite.js" type="text/javascript"></script>
    <script src="../../../Scripts/EasyUIUtility.js" type="text/javascript"></script>
    <script src="../../../Scripts/QueryString.js" type="text/javascript"></script>  
    <script src="../../../Comm/Gener.js" type="text/javascript" ></script>
    <script src="DDLBar.js" type="text/javascript"></script>
    <script src="../../CCFlowEnum.js" type="text/javascript"></script>
    <script  type="text/javascript">

        $(function () {

            InitBar(StartGuideWay.BySQLOne);

            //获取节点属性
            var flowNo = GetQueryString("FK_Flow");
            var flow = new Entity("BP.WF.Flow", FlowID);

        });
         

        function Save() {

            //更新节点表单类型.
            var FlowID = GetQueryString("FK_Flow");
            var Flow = new Entity("BP.WF.Flow", FlowID);
            Flow.FormType = FormType.FreeForm;
            var frmValue = $("input[name='RefFrm']:checked").val();


            //其他节点表单.
            if (frmValue == "0") {
                Flow.FlowFrmID = "";
            }

            //引用指定节点表单.
            if (frmValue == "1") {
                Flow.FlowFrmID = "ND" + $("#DDL_Frm ").val();
            }

            //上一个节点表单.
            if (frmValue == "2") {
                Flow.FlowFrmID = "Pri";
            }
             
            Flow.Update();

            //更新表单类型.
            var frmID = "ND" + FlowID;
            var mapData = new Entity("BP.Sys.MapData", frmID);
            mapData.FrmType = FormType.FreeForm;
            mapData.Update();

            alert("保存成功.");
        }

        //节点表单组件属性.
        function ShowFWCAttr() {
            var FlowID = GetQueryString("FK_Flow");
            var url = "../../../Comm/EnOnly.htm?EnName=BP.WF.Template.FrmFlowComponent&PKVal=" + FlowID;
            OpenEasyUiDialogExt(url, '节点表单组件', 1000, 600, false);
        }
    </script>
</head>
<body >

<div id="bar"> </div>

 <fieldset>
 <legend> 欢迎使用发起前置导航.</legend>

 开发过程中. 1.BySQLOne.htm. 


 </fieldset>



</body>
</html>
