<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title> 
    <link href="../../../Comm/Style/CommStyle.css" rel="stylesheet" type="text/css" />
    <link href="../../../../DataUser/Style/ccbpm.css" rel="stylesheet"  type="text/css" />
    <link href="../../../Scripts/easyUI/themes/default/easyui.css" rel="stylesheet" type="text/css" />
    <link href="../../../Scripts/easyUI/themes/icon.css" rel="stylesheet" type="text/css" />
    <script src="../../../Scripts/jquery-1.7.2.min.js" type="text/javascript"></script>
    <script src="../../../Scripts/easyUI/jquery.easyui.min.js" type="text/javascript"></script>
    <script src="../../../Scripts/QueryString.js" type="text/javascript"></script>
    <script type="text/javascript" src="../../../Scripts/config.js"></script>
    <script type="text/javascript" src="../../../Comm/Gener.js"></script>
    <script src="DDLBar.js" type="text/javascript"></script>

    <script  type="text/javascript">

        $(function () {

            initBar(0);
            var html = "";

            var nodeID= GetQueryString("FK_Node");
            var en = new Entity("BP.WF.Node",nodeID);

            var frmID = "ND" + nodeID;
            var mapData = new Entity("BP.Sys.MapData", frmID);

        });
      
        function Save() {
            
            //更新节点表单类型.
            var nodeID = GetQueryString("FK_Node");
            var node = new Entity("BP.WF.Node", nodeID);
            node.FormType = 0;
            node.Update();

            //更新表单类型.
            var frmID = "ND" + nodeID;
            var mapData = new Entity("BP.Sys.MapData", frmID);
            mapData.FrmType = 0;
            mapData.Update();

            alert("保存成功.");
        }
        
        //打开傻瓜表单设计器.
        function DFrm() {
            var nodeID = GetQueryString("FK_Node");
            var node = new Entity("BP.WF.Node", nodeID);
            var url = '../../FoolFormDesigner/Designer.htm?FK_Flow=' + node.FK_Flow + '&FK_Node=' + nodeID + "&FK_MapData=ND" + nodeID;
            WinOpen(url);
        }

        //节点表单组件属性.
        function ShowFWCAttr() {
            var nodeID = GetQueryString("FK_Node");
            var url = "../../Comm/En.htm?EnName=BP.WF.Template.FrmNodeComponent&PK=" + nodeID;
            WinOpen(url)
        }
    </script>
</head>
<body >

<div id="bar"> </div>

傻瓜表单. 

<fieldset>
<legend>说明</legend>
<ul>
  <li>该表单有4个列,设计简单方便.</li>
</ul>
</fieldset>

<fieldset>
<legend><input type="radio"  value="0"   id="RB_CurrentForm" checked="true" onclick="SetDDLEnable('DDL_Frm','enable')" name="RefFrm" />
 <label  for="RB_CurrentForm" >当前节点表单 </label></legend>
<ul>
  <li>每个节点都有一个独立表单</li>
  <li>在创建节点的时候默认的为当前节点表单.</li>
  <li><a href="javascript:DFrm()">设计傻瓜表单</a></li>
</ul>
</fieldset>


<fieldset>
<legend><input type="radio"  value="1"   id="RB_OtherForms" onclick="SetDDLEnable('DDL_Frm','disable')"  name="RefFrm" />
 <label  for="RB_OtherForms" >其他节点表单 </label></legend>

选择节点: <select id="DDL_Nodes" name="DDL_Nodes"></select>
  <a href="javascript:ShowFWCAttr()">节点表单组件属性</a>

 <ul>
  <li>当前节点可以引用其他节点的表单.</li>
  <li>一般流程都符合1，2规律. 这个1，2规律是:开始节点填写表单, 第2个节点是只读的，第2个以后都是审批节点。</li>
  <li>对于符合1，2规律的流程模式设计步骤如下</li>
  <li>1: 设计开始表单. </li>
  <li>2: 把该表单导入到第2个节点上去，然后把字段设置为只读。 </li>
  <li>3: 在第2个节点上拖入一个审核组件，并设置为启用状态(审核组件有禁用，启用，只读三个状态) </li>
  <li>4: 在第3个节点以及第3个节点以后，设置为引用第2个节点的表单,并把审核组件启用起来.</li>
</ul>

</fieldset>





</body>
</html>
