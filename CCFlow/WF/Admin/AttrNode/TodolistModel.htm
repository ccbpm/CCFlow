<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>多人处理规则</title>
     <script language="JavaScript" src="../../Comm/JScript.js" type="text/javascript" ></script>
    <script type="text/javascript" src="../../Scripts/bootstrap/js/jquery.min.js"></script>
    <script src="../../Scripts/QueryString.js" type="text/javascript"></script>
    <link href="../../../DataUser/Style/ccbpm.css" rel="stylesheet"  type="text/css" />
    <link href="../../../DataUser/Style/table0.css" rel="stylesheet"  type="text/css" />

    <!-- 引用通用的js文件. -->
    <script type="text/javascript" src="../../Comm/Gener.js"></script>
    <script type="text/javascript" src="../../Scripts/config.js"></script>

    <script type="text/javascript" language="javascript" >
        //页面启动函数.
        $(function () {

            $("#Msg").html("正在加载,请稍后......");

            //初始化groupID.
            var nodeID = GetQueryString("FK_Node");

            //调用公共类库的方法.
           // GenerBindEnumKey("DDL_TWay", "TWay", "1");
           
            $.ajax({
                type: 'post',
                async: true,
                url: Handler + "?DoType=TodolistModel_Init&FK_Node=" + nodeID + "&m=" + Math.random(),
                dataType: 'html',
                success: function (data) {

                    if (data.indexOf('err@') == 0) {
                        alert(data);
                        return;
                    }

                    data = JSON.parse(data);

                    //调用公共类库的方法:执行批量主表赋值
                    GenerFullAllCtrlsVal(data);
                }
            });
        });
    </script>
</head>
<body>
<form id="cc">
 
<fieldset>
<legend> <input type="radio" value="0"  id="RB_TodolistModel_0" name="RB_TodolistModel" /> <label for="RB_TodolistModel_0">抢办模式 </label> </legend>
<ul >
<li style=" color:Gray">谁抢到谁处理。 比如：该节点工作有5个人都可以处理，并且他们同时打开，第一个发送到下一个节点这件工作就是他处理的。</li>
</ul>
</fieldset>

<fieldset>
<legend><input type="radio" value="1"  id="RB_TodolistModel_1" name="RB_TodolistModel" /> <label for="RB_TodolistModel_1">协作模式 </label></legend>
 
 <ul style=" color:Gray">
<li>这个节点多人处理:</li>
<li>这样的节点，一般都是多人处理的节点。</li>
</ul>

</fieldset>
  
<fieldset>
<legend><input type="radio" value="2"  id="RB_TodolistModel_2" name="RB_TodolistModel" /> <label for="RB_TodolistModel_2">队列模式 </label></legend>
<ul style=" color:Gray">
<li>按照处理工作的多少进行考核。</li>
<li>这样的节点，一般都是多人处理的节点。</li>
</ul>
</fieldset>


<fieldset>
<legend><input type="radio" value="3"  id="RB_TodolistModel_3" name="RB_TodolistModel" /> <label for="RB_TodolistModel_3">共享模式 </label></legend>
<ul style=" color:Gray">
<li>按照处理工作的多少进行考核。</li>
<li>这样的节点，一般都是多人处理的节点。</li>
</ul>
</fieldset>


<fieldset>
<legend><input type="radio" value="4"  id="RB_TodolistModel_4" name="RB_TodolistModel" /> <label for="RB_TodolistModel_4">协作组长模式 </label></legend>
<ul style=" color:Gray">
<li>按照处理工作的多少进行考核。</li>
<li>这样的节点，一般都是多人处理的节点。</li>
<li>组长确认：<select name="DDL_TeamLeaderConfirmRole" id="DDL_TeamLeaderConfirmRole" >
<option value="0">按照Port_Dept中的Leader字段, 来确定处理人集合的组长。 </option>
<option value="1">按照SQL表达式作为接受人集合的组长。 </option>
  </select> </li>

  <li>内容(对于按照SQL方式填写才有效)：<input type=text id="TB_TeamLeaderConfirmDoc" name="TB_TeamLeaderConfirmDoc" /> </li>

</ul>


</fieldset>

<input type="button"  value="保存" onclick="Save()" />

<script type="text/javascript">

    function Save() {

        var nodeID = GetQueryString("FK_Node");

        // var checkBoxIDs = GenerCheckIDs(); //获得所有的 checkBox ID传入到后台去,用于解决checkbox控件，在没有被选择的时候，没有值的问题。
        // alert(CheckBoxIDs);

        var frmData = $("#cc").serialize();

        //alert(frmData);

        $.ajax({
            data: frmData,
            type: 'post',
            async: true,
            url: Handler + "?DoType=TodolistModel_Save&FK_Node=" + nodeID + "&m=" + Math.random(),
            dataType: 'html',
            success: function (data) {

                if (data.indexOf('err@') >= 0) {
                    alert(data);
                    return;
                }

                alert(data);

                window.location.href = window.location.href;
                return;
            }
        });
    }
</script>

</form>

</body>
</html>
