<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <link href="../../../Comm/Style/Table0.css" rel="stylesheet" type="text/css" />
    <link href="../../../Scripts/easyUI/themes/gray/easyui.css" rel="stylesheet" type="text/css" />
    <link href="../../../Scripts/easyUI/themes/icon.css" rel="stylesheet" type="text/css" />
    <script src="../../../Scripts/jquery-1.7.2.min.js" type="text/javascript"></script>
    <script src="../../../Scripts/jquery.easyui.min.js" type="text/javascript"></script>
    <script src="../../../Scripts/CommonUnite.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(function () {

            var Ele_TBName = document.getElementById("TB_Name");
            Ele_TBName.focus();

            $('#TB_Name').blur(function () //文本失去焦点时触发的事件
            {
                var TB_Name = document.getElementById("TB_Name").value;
                var val = $('input:radio[name="RB_qpjp"]:checked').val();
                if (TB_Name == "") {
                    document.getElementById("TB_No").value = "";
                    return;
                }

                if (val == "ziduanquanpin") {
                    ParseStringToPinYin(TB_Name, true);
                }
                else {
                    ParseStringToPinYin(TB_Name, false);
                }

            });
            //点击全拼
            $('input[id=RB_qp]').change(function () {
                var TB_Name = document.getElementById("TB_Name").value;
                ParseStringToPinYin(TB_Name, true);
            });
            //点击简拼
            $('input[id=RB_jp]').change(function () {
                var TB_Name = document.getElementById("TB_Name").value;
                ParseStringToPinYin(TB_Name, false);
            });
        });

        //转拼音，并去除开头为数字的字符
        function ParseStringToPinYin(parseString, parseModel) {
            parseString = $.trim(parseString);
            if (parseString != "") {
                $.post("../FormDesignerController.ashx", { action: 'ParseStringToPinyin', name: parseString, flag: parseModel }, function (data) {
                    if (data != "false") {
                        document.getElementById("TB_No").value = data;
                    }
                });
            }
        }
        //传入父窗体
        function GetFrmInfo() {
            return {
                Name: $.trim($("#TB_Name").val()),
                No: $.trim($("#TB_No").val()),
                IsCreateLabel: $("#CB_scbq").prop("checked")
            };
        }
    </script>
</head>
<body>
    <form id="from1" action="">
    <table class="Table" cellpadding="0" cellspacing="0" border="0" style="width: 100%">
        <tr>
            <td>  中文名称 </td>
            <td> 帮助 </td>
        </tr>
        <tr>
            <td>
                <input id="TB_Name" class="easyui-textbox" style="width: 200px" />
            </td>
            <td rowspan="4">
            <ul>
            <li>欢迎使用dtl表</li>
            <li>Dtl组件也叫明细表组件，也叫从表组件。</li>
            <li>Dtl组件也叫明细表组件，也叫从表组件。</li>
            <li>Dtl组件也叫明细表组件，也叫从表组件。</li>
            <li>Dtl组件也叫明细表组件，也叫从表组件。</li>
            <li>Dtl组件也叫明细表组件，也叫从表组件。</li>
            <li>Dtl组件也叫明细表组件，也叫从表组件。</li>
            </ul>
            </td>
        </tr>
        <tr>
            <td>明细表编号 </td>
        </tr>
        <tr>
            <td>
                <input id="TB_No" class="easyui-textbox" style="width: 200px" />
            </td>
        </tr>
        <tr>
            <td>
                <input id="RB_qp" type="radio" name="RB_qpjp" checked="checked" value="ziduanquanpin" /><label
                    for="RB_qp">字段全拼</label>
                <input id="RB_jp" type="radio" name="RB_qpjp" value="ziduanjianpin" /><label for="RB_jp">字段简拼</label>
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <input id="CB_scbq" type="checkbox" checked="checked" /><label for="CB_scbq">是否根据名称生成标签</label>
            </td>
        </tr>
    </table>
    </form>
</body>
</html>
