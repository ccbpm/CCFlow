<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>设置</title>
    <script type="text/javascript" src="../../Scripts/bootstrap/js/jquery.min.js"></script>
    <script src="../../Scripts/QueryString2016.js" type="text/javascript"></script>
    <script type="text/javascript" src="../../Scripts/config.js"  ></script>
    <script src="../../Comm/Gener.js?va2=2" type="text/javascript"></script>
    <link href="../../../DataUser/Style/ccbpm.css" rel="Stylesheet" />
    <script type="text/javascript">

        //页面启动函数.
        $(function () {

            var ensName = GetQueryString("EnsName");

            //全局配置.
            var en = new Entity("BP.Sys.EnCfg");
            en.No = ensName;
            if (en.IsExits() == false) {

                en.SetPara("UIRowStyleGlo", 1); //表格数据行风格(应用全局)
                en.SetPara("IsEnableDouclickGlo", 1); //是否启动双击打开(应用全局)
                en.SetPara("IsEnableFocusField", 0); //是否启用焦点字段
                en.SetPara("FocusField", "无"); //焦点字段(用于显示点击打开的列
                en.SetPara("IsEnableRefFunc", 1); //是否启用相关功能列

                en.SetPara("IsEnableOpenICON", 1); //是否启用打开图标
                en.SetPara("MoveToShowWay", 0); //移动到显示方式
                en.SetPara("MoveTo", "无"); //是否启用相关功能列
                en.SetPara("WinCardW", "900"); //是否启用相关功能列
                en.SetPara("WinCardH", "600"); //是否启用相关功能列

                en.SetPara("EditerType", 0); //是否启用相关功能列
                en.SetPara("WinOpenUrl", ""); //是否启用相关功能列
                en.Insert();

            }

            var en = new Entity("BP.Sys.EnCfg");
            en.No = ensName;
            en.Retrieve();


            //赋值.
            GenerBindEnumKey("DDLPara_UIRowStyleGlo", "UIRowStyleGlo");
            GenerBindEnumKey("DDLPara_MoveToShowWay", "MoveToShowWay");
            GenerBindEnumKey("DDLPara_EditerType", "EditerType");

            //给页面的控件赋值.
            GenerFullAllCtrlsVal(en);

           // alert(en);

        });

        function Save() {

            var ensName = GetQueryString("EnsName");
            //全局配置.
            var en = new Entity("BP.Sys.EnCfg", ensName);
            en.CopyForm(); //从from里面copy数据.
            en.No = ensName;
            en.Update();

            window.location.href = window.location.href;
        }

    </script>
</head>
<body>
<table style="width:96%;">
<tr>
<th >配置项</th>
<th>内容</th>
<th>信息</th>
</tr>

<tr bgcolor='white' >
<td>UIRowStyleGlo</td>
<td>表格数据行风格(应用全局)</td>
<td ><select name="DDLPara_UIRowStyleGlo" id="DDLPara_UIRowStyleGlo">
</select></td>
</tr>

<tr bgcolor='AliceBlue' >
<td>IsEnableDouclickGlo</td>
<td>是否启动双击打开(应用全局)</td>
<td ><input id="CBPara_IsEnableDouclickGlo" type="checkbox" name="CBPara_IsEnableDouclickGlo" /><label for="CB_IsEnableDouclickGlo">是否启动双击打开(应用全局)</label></td>
</tr>

<tr bgcolor='white' >
<td>IsEnableFocusField</td>
<td>是否启用焦点字段</td>
<td ><input id="CBPara_IsEnableFocusField" type="checkbox" name="CBPara_IsEnableFocusField"  /><label for="CB_IsEnableFocusField">是否启用焦点字段</label></td>
</tr>

<tr bgcolor='AliceBlue' >
<td>FocusField</td>
<td>焦点字段(用于显示点击打开的列</td>
<td ><input name="TBPara_FocusField" type="text" value="" id="TBPara_FocusField" style="width:100%;" /></td>
</tr>
<tr bgcolor='white' >
<td>IsEnableRefFunc</td>
<td>是否启用相关功能列</td>
<td ><input id="CBPara_IsEnableRefFunc" type="checkbox" name="CBPara_IsEnableRefFunc"  /><label for="CBPara_IsEnableRefFunc">是否启用相关功能列</label></td>
</tr>
<tr bgcolor='AliceBlue' >
<td>IsEnableOpenICON</td>
<td>是否启用打开图标</td>
<td ><input id="CBPara_IsEnableOpenICON" type="checkbox" name="CBPara_IsEnableOpenICON"  /><label for="CBPara_IsEnableOpenICON">是否启用打开图标</label></td>
</tr>
<tr bgcolor='white' >
<td>MoveToShowWay</td>
<td>移动到显示方式</td>
<td ><select name="DDLPara_MoveToShowWay" id="DDLPara_MoveToShowWay">
</select></td>
</tr>
<tr bgcolor='AliceBlue' >
<td>MoveTo</td>
<td>移动到字段</td>
<td ><input name="TBPara_MoveTo" type="text" id="TBPara_MoveTo" style="width:100%" /></td>
</tr>
<tr bgcolor='white' >
<td>WinCardW</td>
<td>弹出窗口宽度</td>
<td ><input name="TBPara_WinCardW" type="text"  id="TBPara_WinCardW" style="width:100%" /></td>
</tr>
<tr bgcolor='AliceBlue' >
<td>WinCardH</td>
<td>弹出窗口高度</td>
<td ><input name="TBPara_WinCardH" type="text"  id="TBPara_WinCardH" style="width:100%" /></td>
</tr>
<tr bgcolor='white' >
<td>EditerType</td>
<td>大块文本编辑器</td>
<td ><select name="DDLPara_EditerType" id="DDLPara_EditerType">
	 
</select></td>
</tr>

<tr bgcolor='AliceBlue' >
<td>WinOpenUrl</td>
<td>双击打开的URL(默认为卡片)</td>
<td ><input name="TBPara_WinOpenUrl" type="text" value="" id="TBPara_WinOpenUrl" style="width:100%;" /></td>
</tr>

</table>

<input type="button" value="保存"  onclick="Save()" />

</body>
</html>
