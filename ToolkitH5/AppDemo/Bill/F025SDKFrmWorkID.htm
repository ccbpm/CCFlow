<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <!--必须引入的-->
    <script src="../../WF/Scripts/QueryString.js"></script>
    <script src="../../WF/Scripts/jquery/jquery.min.js" type="text/javascript"></script>
    <script src="../../WF/Scripts/jquery/jquery.cookie.js" type="text/javascript"></script>
    <link href="../../WF/Scripts/bootstrap/css/bootstrap.css" rel="stylesheet" />

    <!-- 引入驰骋BPM的组件JS  -->
    <script src="../../WF/config.js"></script>
    <script src="../../WF/Toolbar.js"></script>
    <script src="../../WF/Scripts/layui/layui/layui.js" type="text/javascript"></script>

    <script type="text/javascript">



        // 获得流程参数.
        var workid = GetQueryString("WorkID");  //工作流ID.
        var flowNo = GetQueryString("FK_Flow"); //流程模板编号.
        var nodeID = GetQueryString("FK_Node"); //运行到哪里了。
        const index = layer.open({
            content: '正在请求bpm服务器的数据,请稍后...',
            shade: [0.2, '#000'],
            icon: 16,
            title: '',
            btn: [],
            closeBtn: 0,
        });
        //页面启动函数.
        $(function () {
            console.log("this");
            var sid = GetToken();
            if (sid == null || sid == '') {
                alert('登录信息丢失，请重新登录.');
                return;
            }
            //根据nodeID设置表单是否只读.
            if (nodeID != 2501) {
                //设置表单元素只读，因为只有开始节点才能可以编辑,其他节点表单只显示审核组件.
                $("#ccform").attr("readonly", true);
            }
        });
        $(window).load(function () {
            
            setTimeout(function () {
            console.log("加载完成");
            layer.close(index);

            }, 2000)

        });
        //引用工具栏必须有一个 Save 方法.这个方法用于表单. 要保存到您的数据库里面。
        function Save() {
            //执行保存检查.
            // 这是哪个大神写的代码。。。
            if (1 == 1) {
                layui.use('layer', function () {
                    var layer = layui.layer;

                    layer.msg('保存成功', { icon: 1, time: 1000 });
                });

                return true; //保存成功.
            }
            else {
                layui.use('layer', function () {
                    var layer = layui.layer;

                    layer.msg('保存失败', { icon: 2, time: 1000 });
                });
                return false; //保存失败.
            }

        }

    </script>
    <style>
        .table_item {
            width: 100%;
            height: 100% !important;
            margin: 0px !important;
            border-radius: unset !important;
            border: none !important;
            font-size: inherit;
        }

        .table_item_label {
            float: left;
            display: block;
            padding: 9px 15px;
            width: 100%;
            font-weight: 400;
            line-height: 20px;
            text-align: left;
            font-family: MicrosoftYaHei;
            font-size: 14px;
        }

        td {
            height: 40px;
            font-family: MicrosoftYaHei !important;
            font-size: 14px !important;
        }

        .table_item_textArea {
            height: 123px;
            min-height: 102px;
            overflow: hidden;
            resize: none;
        }
        .loading{
            background-color:grey;
            height:100vw;
        }
    </style>

</head>
<body style="background-color: #f2f2f2; " >
    <div id="MyFlow" class="layui-layout layui-layout-admin">
        <form id="divCCForm" enctype="multipart/form-data" method="post" class="layui-form" autocomplete=off>
            <!--头部按钮-->
            <div class="layui-header" style="background-color: white;height:50px">
                <div class="layui-btn-container" id="ToolBar" style="margin:10px 10px 0px 10px" ></div>
            </div>
            </form>
            <form id="ccform" style="width: 100vw;height:fit-content; background-color: #f2f2f2; padding-top: 10px">
                <center>
                    <div style="background-color: white; padding: 30px; width: 60vw; margin-top: 65px;">
                        <table style="width: 50vw; background-color: #f2f2f2; ">
                            <tr>
                                <td colspan="4">
                                    <div class="table_item_label" style="font-weight:bold;color:#777">填写请假申请单 </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="table_item_label">申请人 </div>
                                </td>
                                <td><input type="text" id="TB_SQR" class="table_item" /> </td>
                                <td>
                                    <div class="table_item_label">申请日期 </div>
                                </td>
                                <td><input type="text" id="TB_AppDate" class="table_item" /> </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="table_item_label">申请部门 </div>
                                </td>
                                <td colspan="3"><input type="text" id="TB_Dept" class="table_item" /> </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="table_item_label">请假日期从 </div>
                                </td>
                                <td><input type="text" id="TB_DTFrom" class="table_item" /> </td>
                                <td>
                                    <div class="table_item_label">到 </div>
                                </td>
                                <td><input type="text" id="TB_DTTo" class="table_item" /> </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="table_item_label">天数 </div>
                                </td>
                                <td><input type="text" id="TB_QingJiaTianShu" class="table_item" /> </td>
                                <td>
                                    <div class="table_item_label">请假类型 </div>
                                </td>
                                <td><input type="text" id="TB_DTTo11" class="table_item" /> </td>
                            </tr>

                            <tr>
                                <td colspan="4" style="height:auto">
                                    <div class="table_item_label">请假原因 </div>
                                    <textarea id="TB_Note" class="table_item table_item_textArea" maxlength="50" draggable="false" ></textarea>
                                </td>
                            </tr>

                            <!--注意标记: 这里是一个审核组件: 审核组件有三个状态：禁用，启用，只读，在节点属性里可以配置.-->
                            <tr>
                                <td colspan="4"> <div id="WorkCheck"></div> </td>
                            </tr>
                            <!--- 审核组件结束 end-->

                        </table>
                    </div>
                </center>


           
        </form>
    </div>
    
</body>


</html>