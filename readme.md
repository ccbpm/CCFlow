
### CCFlow基本信息.###
1. **产品名称:**驰骋.net工作流引擎.  **简称** CCFlow   **版本:** ccflow6  **英文名称:** ChiCheng Workflow Engine  
2. **官方网站:** [http://ccflow.org](http://ccflow.org "官方网站")  **开发历史:** 2003-2016年.         **性质:** 100%开源,无任何功能限制.
5. **许可协议:** GPL  URL: http://www.gnu.org/licenses/gpl.html 
6. **运行环境:** 设计器BS结构, IIS6.0+, .net4.0. 支持CS调用. IIS6.0 +
7. **开发语言:** VS2010, .net4.0 c#.net. **客户端:** FireFox 3.0以上. IE6+,或者使用IE内核的浏览器.
8. **组成部分:** 流程设计器、表单设计器、流程解析执行器、表单解析执行器、流程服务。
9. **基本功能:** 图形化流程设计/智能表单web定义免程序开发/级联下拉框/流程轨迹/单据自定义打印/邮件短信工作到达通知/自动任务分配/支持sdk模式开发/简洁集成/消息侦听/丰富事件接口/报表定义/工作量分析/绩效考核/手机访问/支持sqlserve,oracle,mysql,informix数据库
CCFlow功能: 懂管理就会开发基本流程,会SQL就能达到中级开发水平解决复杂的逻辑问题与其它系统耦合,有程基础就可以使用sdk做高级的开发.
10. **支持数据库:** sqlserver系列版本， oracle 系列版本， informix 系列版本, mysql系列版本.
10. **Git 地址:** http://git.oschina.net/opencc/ccflow/tree/develop
11. **下载地址** 请参考: http://git.oschina.net/opencc/ccflow/wikis/pages
12. **两个版本:**  ccflow是.net版本开发的. jflow使用Java开发是ccflow的影子版本。两个版本,代码&数据库解构,设计思想,功能,操作手册,完全相同. 流程表单模版完全通用。
13. [JFlow的官方网站 ](http://jflow.cn "jflow官方网站."), git网站地址:[http://git.oschina.net/opencc/jflow/tree/develop](http://git.oschina.net/opencc/jflow/tree/develop "jflow在git上.")
14. ccflow & JFlow 集成多众多的开发人员、流程设计人员、管理人员众多的智慧，成长过程中得到众多企业的帮助。
15. ccflow帮助了成百上千家企业成功，众多的爱好者的贡献，成功客户案例，请打开官方网站查找. http://ccflow.org/Case.aspx 
16. ccbpm 支持IE8+, 支持火狐，谷歌，等等大多数浏览器.

### 为什么选择ccflow? ###
1. CCFlow成长于中国2003年,历史长久,在多种生产、管理环境中成长起来，是国内老牌的工作流程引擎,拥有众多的爱好者,开发者, 100%的核心代码开源.
2. 历经多个项目多种行业磨练(请参考官方网站成功案例),规则丰富，生命力强，绝大多数应用可以实现无代码流程设计.
3. CCFlow的核心代码都是公司自己研发的，核心算法也是基于实际应用，经过我们十多年的发展，每个所服务的客户都能得到最佳的流程解决方案.
4. CCFlow没有借助第3方的流程软件,拥有独立知识产权, 所以我们最容易扩展,实现客户的需求.
6. CCFlow功能强大,可配置性好，通常的应用开发可以实现无代码实现,面向业务人员、系统管理员、与程序员.
7. 使用开源的软件好处众多,可以跟踪调试,可以修改，研究者众多，容易得到帮助,可以与我们的开发人员在线互动,遇到问题可以在第1时间解决.
8. CCFlow是国内第一款同时拥有.net版本与java版本的工作流引擎,两者互为影子版本,数据库解构,配置界面完全相同.
9. CCFlow设计思路精巧、概念简单.只有线性、同表单分合流、异表单分合流、父子流程四个概念. 有涵盖多种行为的5*5的算法，流程模式实现现实生活中绝大多数模式(目前没有我们解决不了的问题).
10. CCFlow的概念简洁、通俗易懂, 运行规则与运行模式清晰，数据库结构设计精简,规则丰富，帮助详实.
11. CCFlow是国内流程引擎与表单引擎集成较好的bpm软件,流程引擎可以操纵表单引擎数据实现复杂的业务数据处理与权限控制.
12. CCFlow拥有200多个流程演示模版,涵盖了我们在开发过程中遇到的很多的应用场景,参考这些模版,容易获得帮助.
13. CCFlow拥有40多个单元测试案例，这些单元测试案例，是保障ccflow稳定运行的基础,在核心代码修改后容易找打问题.
14. CCFlow资料完善（约:16万字)，拥有众多的爱好者,开发者容易得到帮助. CCFlow的代码放在Git上，容易修改代码与我们合并.
15. CCFlow集成方便, 概念、名词通俗易懂.

### 基础功能 ###
1. 流程引擎设计支持所见即所得的设计：节点设计、表单设计、单据设计、报表定义设计，方向条件设计....
2. 流程模式简洁只有4种容易理解、线性流程、同表单分合流、异表单分合流、父子流程，没有复杂的概念。
3. 支持流程的基础功能：前进、后退、转向、转发、撤销、抄送、挂起、草稿、任务池共享，也支持高级功能取回审批、项目组、来宾用户等等。
4. 支持sdk开发，多表单展现，字段权限控制，从表控制，多种符合中国国情的业务规则设置.
5. 表单引擎与流程引擎可以分开也可以单独使用，流程引擎可以驱动表单引擎，实现多种业务数据的操作，比如：汇总、分合、填写.
6. CCFlow 集成方式简洁，容易实现插件模式的开发.
7. SDK 接口丰富，注释详细, [丰富的帮助文档](http://ccbpm.mydoc.io "到达帮助文档."),  容易上手.
8. 更多的功能请参考官方网站.

### ccflow 程序文件清单:  ###
1. D:\ccflow\Components   -- 组件目录.
2. D:\ccflow\Components\BP.En30   -- 底层基类.
3. D:\ccflow\Components\BP.Web.Controls30   --BS 控件层.
4. D:\ccflow\Components\BP.WF  --工作流程引擎层
5. D:\ccflow\RefDLL  -- 第三方组件中需要调用dll.
6. D:\ccflow\Documents -  文档
7. D:\ccflow\CCFlow  -- BS工作流程引擎前台.  
8. D:\ccflow\CCFlowServices - 流程服务程序,用于执行自动发起流程、自动任务.
9. D:\ccflow\DemoAndTesting  - 单元测试&Demo
 


### ccflow前台目录结构.前台程序.(不建议用户修改，如果修改请提交给我们，否则您就没有办法升级.) ###
1. D:\ccflow\CCFlow\WF\ --前台程序.
2. D:\ccflow\CCFlow\WF\Comm  --通用功能层.
3. D:\ccflow\CCFlow\WF\Data  -- 应用程序数据目录. 包含一些xml,等等。
4. D:\ccflow\CCFlow\WF\Data\Install 与安装有关系的文件
5. D:\ccflow\CCFlow\WF\Data\JSLib  系统javascript 函数库。
6. D:\ccflow\CCFlow\WF\Data\Language 语言包(完善中)
7. D:\ccflow\CCFlow\WF\Data\Node  cs流程设计器节点类型（cs流程设计器不在发展）
8. D:\ccflow\CCFlow\WF\Data\XML  xml配置文件不仅仅ccflow使用,bp框架也使用它。
9. D:\ccflow\CCFlow\WF\UC  --用户控件.
10. D:\ccflow\CCFlow\WF\DocFlow -- 公文流程(目前还不是很完善)
11. D:\ccflow\CCFlow\WF\Admin - 对ccflow的管理比如设计方向条件.报表定义...
12. D:\ccflow\CCFlow\WF\SDKComponents  --流程组件目录.
13. D:\ccflow\CCFlow\WF\WorkOpt -- 工作处理器的附件功能.
14. D:\ccflow\CCFlow\WF\Admin\CCBPMDesigner -- H5的流程设计器.
15. D:\ccflow\CCFlow\WF\Admin\CCFormDesigner -- H5的表单设计器.
16. D:\ccflow\CCFlow\SDKFlowDemo -- sdk开发模式的案例.


### 1.2 前台的用户数据文件，用户可以更改. ###
1. D:\ccflow\CCFlow\DataUser --用户文件.
2. D:\ccflow\CCFlow\DataUser\Seal -- 电子盖章图片.
3. D:\ccflow\CCFlow\DataUser\UploadFile - 上传附件
4. D:\ccflow\CCFlow\DataUser\Style -- 个性化风格文件.
5. D:\ccflow\CCFlow\DataUser\CyclostyleFile -- 单据模版文件.
6. D:\ccflow\CCFlow\DataUser\EmailTemplete -邮件模版文件.
7. D:\ccflow\CCFlow\DataUser\ICON --ICON
8. D:\ccflow\CCFlow\DataUser\TaoHong --公文套红.
9. D:\ccflow\CCFlow\DataUser\Bill  单据打印生成数据.
10. D:\ccflow\CCFlow\DataUser\CyclostyleFile 单据模板数据
11. D:\ccflow\CCFlow\DataUser\DtlTemplete  导入明细表模板文件.
12. D:\ccflow\CCFlow\DataUser\EmailTemplete  自定义邮件发送格式文件.
13. D:\ccflow\CCFlow\DataUser\JSLib 用户自定义函数库
14. D:\ccflow\CCFlow\DataUser\JSLibData 用户自定义函数生成文件。
15. D:\ccflow\CCFlow\DataUser\Log 系统日志文件
16. D:\ccflow\CCFlow\DataUser\ReturnLog 退回日志文件.
17. D:\ccflow\CCFlow\DataUser\Siganture 签名文件.
18. D:\ccflow\CCFlow\DataUser\Style 用户自定义风格文件。
19. D:\ccflow\CCFlow\DataUser\UploadFile 表单附件上传文件，单附件，与多附件。
20. D:\ccflow\CCFlow\DataUser\XML 用户系统配置文件。

 
###  如何学习好ccflow? ###
1.  多看视频与文档.
   1. ccflow提供的视频是4.0的视频，有一些功能对应不上您可以看文档，文档是最新的。
   2. ccflow提供了两个重要的文档<<驰骋工作流引擎-流程设计器操作手册-CCFlow6.doc>> <<驰骋工作流引擎-表单设计器操作手册-CCFlow6.doc>> 这是您掌握ccflow的基础.   
2. 加入群里与ccflow爱好者交流.请打开http://ccflow.org 网站,找到qq群加入里面, 把不明白的问题，提交到群论坛里，会有人回答你的问题.
3. 有问题反馈到bbs,  http://bbs.ccflow.org/  注意不要省掉注册邀请码.    
4. 通过OSC发布bug，反馈问题，协助我们开发。
5. 如果您们项目工期紧张并且有充足的费用，建议成为ccflow的vip用户，您会得到现场的技术支持与系统培训。

### 如何安装并设置ccflow开发环境?(请严格按如下步骤去安装,不要跳跃,否则会导致安装失败.) ###

1. 确认升级到IE8+ 以上，并且做如下设置.
   1. 菜单->工具->Internet 选项-> 隐私 -> 把打开弹出窗口阻止程序 关闭上，否则一些功能就不能使用.
   2. 菜单->工具->Internet 选项-> 常规 -> 浏览历史记录设置-> 选中 () 每次访问此网页时. 单选按钮. 点确定，以避免缓存对程序有影响。
   3. 确认你是以administrator 超级用户进行安装的。

2. 使用 svn下载源程序,请查看如下连接.
 
   1. 如果你不会使用svn,请到网上baidu.
   2. 建议把ccflow放在 D:\下面,  ccflow的说明书都以此目录说明, 以方便您定位程序文件.
   3. 特别提示: 如果不放置在D:\ccflow 下，您可能会遇到dll 文件引用找不到路径的问题。

3. 打开解决方案文件并编译它. CCFlow6 解决方案的位置: D:\ccflow\CCFlow6.sln, 设置 /Default.htm 为起始页.

   ETC: 如果不能正常打开请按如下步骤检查.
   1. 您的vs是否是2010版本？
   2. 如果您用的vs比较高的版本，vs就会自动转换，请按照要求转换. 

4. 创建空白数据库.
   1. 建立数据库(不管你用的什么数据库,oracle,sqlserver,mysql,informix系列),先创建一个空白的数据库名称为: CCFlow6
   2. 请看下面第5步骤, 为数据库配置链接.

5. 打开文件 D:\ccflow\CCFlow\web.config   修改 Appsetting 节点中的数据库连接。

   如下：【如果使用的是MSSQL数据库，修改数据库的链接的用户名和密码即可】
  
    <appSettings>   
    <!-- 数据库连接url. -->
    <add key="AppCenterDSN" value="Password=123;Persist Security Info=True;User ID=sa;Initial Catalog=ccflow;Data Source=.;Timeout=2" />
    <!--ccflow 支持的数据库类型, MSSQL, Oracle, DB2, MySQL,InforMix 
     注意区分大小写. 还要检查此数据库用户是否具有足够的权限可以创建表、
     视图、存储过程、函数。 -->
    <add key="AppCenterDBType" value="MSSQL" />

6. 在vs设计器里面，直接ctrl + F5 运行系统。

   1, 系统直接运行到安装界面.
   2，如果不需要安装demo，就不选安装demo。
   3，点击接受协议并安装，稍等十几分钟就会安装好。

7. 发布到IIS上,建立网站应用:

   1. 开始->> 运行->> 输入 inetmgr 打开IIS管理器.
   2. 确认您的机器已经安装上了.net4.0, 并且，启用了它:
        
        For Win7用户: 把鼠标点在Internet信息服务(IIS)管理器的根节点，找到 IIS 分组中的 [IASPI 和CGI的限制] 图标，确认ASP.NET v4.0 相关的dll是否被允许.
        For Win2003用户: Internet 信息服务树上找到 Web服务扩展. 确认 ASP.NET v4.0.*** 是存在或者被允许? 如果没有找到 ASP.NET v4.0 则是您没有安装.net4.0 Framework, 请下载安装解决.

   3. 建立网站, 网站名称为CCFlow6  主目录为: D:\ccflow\CCFlow , 应用程序池为 ASP.NET v4.0 Classic. (建议单独建立一个应用程序池.)


8. 启动流程设计器 
  
   1. 流程设计器进入地址:` http://localhost:5853/WF/Admin/CCBPMDesigner/Login.htm`
   2. 超级用户:admin  密码: 123
 
   **说明:**

   1. 第一次进入后，会提示您安装与初始化ccflow数据.
   2. 注意选择是否是要安装demo .
   3. 安装成功会ccflow 会自动转入设计器.
   4. 如果中途安装失败，您需要删除数据库重新建立，重新安装.   


9. 启动流程服务: 用来发短信与邮件的服务. 

     D:\ccflow\CCFlowServices\bin\Release\CCFlowServices.exe  
     把他在桌面上创建一个快捷方式.


10. 可选步骤:

   1. 在解决方案里，把单元测试设置为启动项目，然后执行完每个单元测试，看当前的版本是否有问题.
   2. 查看bbs上的最新更新说明 http://bbs.ccflow.org



### 安装过程中经常遇到的问题: ###

1. 在internet 信息服务(iis) 中， web 服务扩展 asp.net v4.xxxxxx 的dll 没有被允许.

   1. 如果找不到，就是没有安装iis的程序扩展功能。
   2. 控制面板-> 程序和功能-> 在左边有打开或者关闭windows功能. 把 Internet information services. 与 Internet 信息服务 全部选择上.

2. 没有注册 asp.net 到iis 上. 需要执行如下命令.

         cd C:\WINDOWS\Microsoft.NET\Framework\v4.0.30319   (32位)
         cd C:\WINDOWS\Microsoft.NET\Framework64\v4.0.30319 (64位)
         aspnet_regiis.exe -ua
         aspnet_regiis.exe -i	  


3. 出现用户名及密码错误，请在web.config 文件中.

    <identity impersonate="true" userName="administrator" password="jiaozi"/> 
    中的 impersonate="true" 修改成 impersonate="false" 或者填写正确的密码, 
    也可以把  impersonate="false" 	 

4. 造成流程设计器不能正常打开的原因:有可能是c:\windows\temp 目录访问权限有限制, 修改一下该目录的访问权限，比如everyone都可以读写试一下(不建议你这样)。


5, 在按下安装一步时，遇到创建表或者数据库的错误。
   1. 指定连接里面数据库用户没有权限，导致错误。
   2. web.config 中的 数据库类型设置错误.
        <add key="AppCenterDBType" value="MSSQL" />

6, 用户权限问题.

     如果出现:C:\Windows\Microsoft.NET\Framework64\v4.0.30319\Temporary ASP.NET Files”
     的写访问权限。的错误提示. 解决办法:  把“IIS_IUSERS”和你自己的系统用户赋予它操作
     C：\WINDOWS\TEMP文件夹的权利，

  重新启动IIS，并尝试再次运行Web应用程序。

7. 如果以上方式都不奏效.

        cd C:\WINDOWS\Microsoft.NET\Framework\v4.0.30319
        aspnet_regiis.exe -ua
        aspnet_regiis.exe -i

   重新安装，就有可能解决，此时可以寻求你的同事解决。

8. VS2010+IE8 调试提示 “找不到元素”
    1.  Open RegEdit //打开注册表编辑器
    2.  Browse to HKEY_LOCALMACHINE -> SOFTWARE -> Microsoft -> Internet Explorer -> Main
    3.  Set TabProcGrowth to 0 //设置 TabProcGrowth 的值为 0

9. 当前ccflow的工作模式为集成模式，您没有安装或者成功配置CCGPM,ccflow的BPM工作模式，必须依赖CCGPM才能运行。

   1. 如果需要集成模式，请先安装CCGPM，然后安装ccflow;
   2. 或者改为简单模式：请在web.config 文件中把OSModel 改为0.

10. 在  oracle 的安装的时候会越到大小写敏感问题,我们需要被安装的mysql数据库不要区分大小写.